{"version":3,"sources":["../../src/components/pagination/index.js"],"names":["React","useState","Select","ChevronBack","ChevronNext","generateMockArr","length","arr","i","push","Pagination","props","paginationClass","result","className","btn","size","rounded","color","key","trim","perPage","getLimit","Math","ceil","itemsCount","current","currentPage","setCurrentPage","perPageLocal","setPerPageLocal","allPages","setAllPages","slice","activePages","setActivePages","isPrevAvailable","isNextAvailable","handleOnNext","onChange","handleOnPrev","handlePerPageSelect","value","getSize","map","item","index","perPageVariants","pageText"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Select } from '../select';\nimport { ChevronBack, ChevronNext } from '../icon/icons/index';\n\nconst generateMockArr = (length) => {\n    let arr = []\n    for (let i = 0; i < length; i++) {\n        arr.push(i)\n    }\n    return arr\n}\n\nexport const Pagination = (props) => {\n    const paginationClass = () => {\n        let result = '';\n        let className = {\n            btn: 'pagination',\n            size: props.size ? props.size : '',\n            rounded: props.rounded ? 'rounded' : '',\n            color: props.color ? props.color : '',\n            className: props.className ? props.className : ''\n        }\n        \n        for (const key in className) {\n            if (className[key]) result += className[key] + ' '\n        }\n        return result.trim();\n    }\n\n    let perPage = props.perPage ? props.perPage : 10;\n\n    const getLimit = () => {\n        return Math.ceil(props.itemsCount/perPage) >= 5 ?\n            5 : Math.ceil(props.itemsCount/perPage)\n    }\n    const [currentPage, setCurrentPage] = useState(props.current ? props.current : 1);\n    const [perPageLocal, setPerPageLocal] = useState(perPage);\n    const [allPages, setAllPages] = useState(generateMockArr(Math.ceil(props.itemsCount/perPage)));\n    const [activePages, setActivePages] = useState(allPages.slice(0, getLimit()))\n\n    const isPrevAvailable = () => {\n        return currentPage === 1 ? false : true\n    }\n\n    const isNextAvailable = () => {\n        if (currentPage === props.itemsCount || \n            props.itemsCount === 0 || \n            currentPage === Math.ceil(props.itemsCount/perPage)) return false \n        else return true\n    }\n\n    const handleOnNext = () => {\n       if (isNextAvailable()) {\n            if (currentPage % getLimit() === 0 && currentPage < allPages.length) {\n                setActivePages(allPages.slice(currentPage, currentPage + getLimit()))\n                setCurrentPage(currentPage + 1)\n                props.onChange(currentPage + 1)\n            } else if (currentPage < allPages.length) {\n                setCurrentPage(currentPage + 1)\n                props.onChange(currentPage + 1)\n            }\n       }\n    }\n\n    const handleOnPrev = () => {\n        if (isPrevAvailable()) {\n            if((currentPage - 1) % getLimit() === 0 && currentPage > 1){\n                setActivePages(allPages.slice(currentPage - getLimit(), currentPage))\n                setCurrentPage(currentPage - 1)\n                props.onChange(currentPage - 1)\n            } else if (currentPage > 1) {\n                setCurrentPage(currentPage - 1)\n                props.onChange(currentPage - 1)\n            }\n        }\n    }\n\n    const handlePerPageSelect = (value) => {\n        setPerPageLocal(value)\n    }\n\n    const getSize = () => {\n        if (props.size === 'medium') return 100\n        else if (props.size === 'large') return 100\n        else return 100\n    }\n\n    return (\n        <div className={paginationClass()}>\n\n            <div className={isPrevAvailable() ? 'pagination-item' : 'pagination-item disabled'} onClick={handleOnPrev}>\n                <ChevronBack />\n            </div>\n\n            {activePages.map((item, index) => {\n                return (\n                    <div key={index} className={(item + 1) === currentPage ? 'pagination-item active' : 'pagination-item'}\n                        onClick={() => {\n                            setCurrentPage(item + 1)\n                            props.onChange(item + 1)\n                        }}>\n                        {item + 1}\n                    </div>\n                )\n            })}\n\n            <div className={isNextAvailable() ? 'pagination-item' : 'pagination-item disabled'} onClick={handleOnNext}>\n                <ChevronNext />\n            </div>\n\n            <div className=\"pagination-per-page\">\n                <Select\n                    minWidth={getSize()}\n                    size={props.size}\n                    rounded={props.rounded}\n                    color={props.color}\n                    items={props.perPageVariants ? props.perPageVariants : [10, 20, 50, 100]}\n                    normalTitle={true}\n                    selectedItem={`${perPageLocal} / ${props.pageText ? props.pageText : 'page'}`}\n                    onSelect={handlePerPageSelect}/>\n            </div>\n        </div>\n    )\n}"],"file":"index.js"}