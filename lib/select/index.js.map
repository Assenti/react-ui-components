{"version":3,"sources":["../../src/components/select/index.js"],"names":["React","useState","Icon","InputField","Dropdown","List","ListItem","CSSTransition","Select","props","menu","setMenu","subMenu","setSubMenu","activeIndex","setActiveIndex","selectMenuClass","result","className","key","trim","subMenuClass","name","light","dark","resolveItemChildren","childrenKey","items","handleItemClick","item","index","onChange","getActiveItem","itemTitle","value","includes","handleCloseOnBlur","filteredItems","search","filter","toLowerCase","searchable","color","e","onSearch","target","size","map","length","subItem","iterator","label","rounded","prefix","clearable","onClear","width","placeholder"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Icon } from '../icon';\nimport { InputField } from '../input';\nimport { Dropdown } from '../dropdown';\nimport { List, ListItem } from '../list';\nimport { CSSTransition } from 'react-transition-group';\n\nexport const Select = (props) => {\n    const [menu, setMenu] = useState(false);\n    const [subMenu, setSubMenu] = useState(false);\n    const [activeIndex, setActiveIndex] = useState(0);\n\n    const selectMenuClass = () => {\n        let result = '';\n        let className = {\n            className: props.className ? props.className : ''\n        }\n        for (const key in className) {\n            if (className[key]) result += className[key] + ' '\n        }\n        return result.trim();\n    }\n\n    const subMenuClass = () => {\n        let result = '';\n        let className = {\n            name: 'rui-select__submenu',\n            light: props.dark ? 'dark' : 'light',\n        }\n        for (const key in className) {\n            if (className[key]) result += className[key] + ' '\n        }\n        return result.trim();\n    }\n\n    const resolveItemChildren = () => {\n        if (props.childrenKey) return props.items[activeIndex][props.childrenKey]\n        else return []\n    }\n\n    const handleItemClick = (item, index) => {\n        if (props.childrenKey) {\n            setSubMenu(true)\n            setActiveIndex(index)               \n        } else {\n            setMenu(false)\n            props.onChange(item)\n        }\n    }\n\n    const getActiveItem = (item) => {\n        if (!props.childrenKey) {\n            if (props.itemTitle) {\n                return item[props.itemTitle] === props.value\n            } else {\n                return item === props.value\n            }\n        } else {\n            return item[props.childrenKey].includes(props.value)\n        }\n    }\n\n    const handleCloseOnBlur = () => {\n        if (!props.childrenKey) {\n            setMenu(false)\n            setSubMenu(false)\n        }\n    }\n\n    const filteredItems = () => {\n        if (props.search) {\n            return props.items.filter(item => {\n                return props.itemTitle ? \n                    item[props.itemTitle].toLowerCase().includes(props.search.toLowerCase()) :\n                    item.toLowerCase().includes(props.search.toLowerCase())\n            })\n        } else {    \n            return props.items\n        }\n    }\n\n    return (\n        <Dropdown\n            className={selectMenuClass()}\n            closeManaged\n            visible={menu}\n            content={\n                <div tabIndex={-1} \n                    className=\"rui-select__menu\" \n                    onBlur={() => {\n                        setMenu(false)\n                        setSubMenu(false)\n                    }}>\n                    {props.searchable && !props.childrenKey ? \n                    <InputField\n                        color={props.color ? props.color : 'primary'}\n                        prefix={<Icon name=\"search\"/>}\n                        value={props.search}\n                        onChange={e => props.onSearch(e.target.value)}\n                        className=\"full-width pa-5\"/> : ''}\n                    <List className=\"relative\" size={props.size ? props.size : ''}>\n                        {filteredItems().map((item, index) => \n                            <ListItem\n                                key={index}\n                                isActiveItem={getActiveItem(item)}\n                                onClick={() => handleItemClick(props.itemTitle ? item[props.itemTitle] : item, index)}\n                                controls={resolveItemChildren().length > 0 ? \n                                    <Icon name=\"chevron-next\" size={18}/> : ''}\n                                item={props.itemTitle ? item[props.itemTitle] : item}\n                                hover>\n                                <CSSTransition\n                                    in={subMenu}\n                                    timeout={300}\n                                    classNames=\"rui-select__submenu\"\n                                    unmountOnExit>\n                                    <div className={subMenuClass()}>\n                                        <List size={props.size ? props.size : ''}>\n                                            {resolveItemChildren().map((subItem, iterator) => \n                                                <ListItem\n                                                    onClick={() => {\n                                                        props.onChange(subItem)\n                                                        setMenu(false)\n                                                        setSubMenu(false)\n                                                        setActiveIndex(0)\n                                                    }}\n                                                    isActiveItem={subItem === props.value}\n                                                    key={iterator}\n                                                    item={subItem}\n                                                    hover/>\n                                            )}\n                                        </List>\n                                    </div>\n                                </CSSTransition>\n                            </ListItem>\n                        )}\n                    </List>\n                </div>}\n            trigger={<InputField\n                        label={props.label ? props.label : ''}\n                        color={props.color ? props.color : 'primary'}\n                        suffix={<Icon name={menu ? 'chevron-up' : 'chevron-down'}/>}\n                        value={props.value}\n                        size={props.size ? props.size : ''}\n                        rounded={props.rounded ? props.rounded : false}\n                        prefix={props.prefix ? props.prefix : ''}\n                        clearable={props.clearable ? props.clearable : false}\n                        onClear={props.onClear ? props.onClear() : {}}\n                        onFocus={() => setMenu(true)}\n                        onBlur={() => props.value ? handleCloseOnBlur() : {}}\n                        className=\"full-width\"\n                        width={props.width ? props.width : ''}\n                        placeholder={props.placeholder}/>}/>\n    )\n}\n"],"file":"index.js"}