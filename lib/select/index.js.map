{"version":3,"sources":["../../src/components/select/index.js"],"names":["React","useState","useRef","Icon","InputField","Dropdown","List","ListItem","Tag","CSSTransition","Select","props","menu","setMenu","subMenu","setSubMenu","activeIndex","setActiveIndex","selected","setSelected","index","setIndex","focus","setFocus","search","setSearch","searchable","searchFocus","setSearchFocus","inputRef","selectMenuClass","result","className","key","trim","subMenuClass","name","light","dark","resolveItemChildren","childrenKey","items","isSelected","item","i","isMultiple","multiple","handleItemClick","e","currentTarget","target","filter","onSelect","onChange","getActiveItem","itemTitle","value","includes","handleCloseOnBlur","filteredItems","toLowerCase","selectMultipleItemClass","size","handleFocus","handleBlur","handleKeyUp","handleLabelClick","current","color","searchPlaceholder","map","subItem","iterator","label","whiteBackground","borderType","prefix","clearable","onClear","width","placeholder","backgroundColor","length","tagColor"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Icon, InputField, Dropdown, List, ListItem, Tag } from '../index';\nimport { CSSTransition } from 'react-transition-group';\n\nconst Select = (props) => {\n    const [menu, setMenu] = useState(false);\n    const [subMenu, setSubMenu] = useState(false);\n    const [activeIndex, setActiveIndex] = useState(0);\n    const [selected, setSelected] = useState([]);\n    const [index, setIndex] = useState(-1);\n    const [focus, setFocus] = useState(false);\n    const [search, setSearch] = useState('');\n    const [searchFocus, setSearchFocus] = useState(props.searchable ? true : false);\n    const inputRef = useRef(null);\n\n    const selectMenuClass = () => {\n        let result = '';\n        let className = {\n            className: props.className ? props.className : ''\n        }\n        for (const key in className) {\n            if (className[key]) result += className[key] + ' '\n        }\n        return result.trim();\n    }\n\n    const subMenuClass = () => {\n        let result = '';\n        let className = {\n            name: 'rui-select__submenu',\n            light: props.dark ? 'dark' : 'light',\n        }\n        for (const key in className) {\n            if (className[key]) result += className[key] + ' '\n        }\n        return result.trim();\n    }\n\n    const resolveItemChildren = () => {\n        if (props.childrenKey) return props.items[activeIndex][props.childrenKey]\n        else return []\n    }\n\n    const isSelected = (item) => {\n        for (const i of selected) {\n            if (i === item) return true;\n        }\n        return false;\n    }\n\n    const isMultiple = () => {\n        if (props.multiple && props.childrenKey) return true\n        else if (props.multiple && !props.childrenKey) return true\n        else return false\n    }\n\n    const handleItemClick = (e, item, index) => {\n        if (e.currentTarget === e.target) {\n            if (props.childrenKey && !props.multiple) {\n                setSubMenu(true)\n                setActiveIndex(index)               \n            } else if (isMultiple()) {\n                if (isSelected(item)) {\n                    setSelected(() => selected.filter(i => i !== item))\n                    props.onSelect(item, selected.filter(i => i !== item))\n                } else {\n                    setSelected([...selected, item])\n                    props.onSelect(item, [...selected, item])\n                }\n                setFocus(false)\n            } else {\n                setMenu(false)\n                props.onChange(item)\n            }\n        }\n    }\n\n    const getActiveItem = (item) => {\n        if (!props.childrenKey && !props.multiple) {\n            if (props.itemTitle) {\n                return item[props.itemTitle] === props.value\n            } else {\n                return item === props.value\n            }\n        } else if (isMultiple()) {\n            return isSelected(props.itemTitle ? item[props.itemTitle] : item)\n        } else {\n            return item[props.childrenKey].includes(props.value)\n        }\n    }\n\n    const handleCloseOnBlur = (e) => {\n        if (e.currentTarget === e.target && !searchFocus) {\n            setMenu(false)\n            setSubMenu(false)\n\n            if (props.searchable) {\n                setSearchFocus(false)\n                setSearch('')\n            }\n        }\n    }\n\n    const filteredItems = () => {\n        if (search) {\n            return props.items.filter(item => {\n                return props.itemTitle ? \n                    item[props.itemTitle].toLowerCase().includes(search.toLowerCase()) :\n                    item.toLowerCase().includes(search.toLowerCase())\n            })\n        } else {    \n            return props.items\n        }\n    }\n\n    const selectMultipleItemClass = () => {\n        return props.size ? `rui-select__multiple-items ${props.size}` : 'rui-select__multiple-items'\n    }\n\n    const handleFocus = (e) => {\n        if (e.currentTarget === e.target) setMenu(true)\n    }\n\n    const handleBlur = (e) => {\n        if (e.currentTarget === e.target) setMenu(false)\n    }\n\n    const handleKeyUp = (e) => {\n        if (e.key === 'ArrowDown') setIndex(index + 1)\n        else if (e.key === 'ArrowUp') setIndex(index - 1)\n        else if (e.key === 'Escape') {\n            setMenu(false)\n            setSubMenu(false)\n        }\n    }\n\n    const handleLabelClick = () => {\n        if (inputRef) {\n            inputRef.current.focus()\n            setFocus(true)\n        }\n    }\n\n    return (\n        <Dropdown\n            className={selectMenuClass()}\n            closeManaged\n            visible={menu}\n            content={\n                <div tabIndex={-1} \n                    className=\"rui-select__menu\" \n                    onBlur={() => {\n                        setMenu(false)\n                        setSubMenu(false)\n                    }}>\n                    {props.searchable && !props.childrenKey ? \n                    <InputField\n                        color={props.color ? props.color : 'primary'}\n                        prefix={<Icon name=\"search\"/>}\n                        value={search}\n                        autoFocus\n                        placeholder={props.searchPlaceholder ? props.searchPlaceholder : 'Search'}\n                        onChange={e => setSearch(e.target.value)}\n                        className=\"full-width pa-5\"/> : ''}\n                    <List className=\"relative\" \n                        size={props.size ? props.size : ''}>\n                        {filteredItems().map((item, index) => \n                            <ListItem\n                                key={index}\n                                tabIndex={index}\n                                isActiveItem={getActiveItem(item)}\n                                onClick={e => handleItemClick(e, props.itemTitle ? \n                                    item[props.itemTitle] : item, index)}\n                                checkbox={props.multiple}\n                                controls={!props.multiple && props.childrenKey ? \n                                    <Icon name=\"chevron-next\"/> : ''}\n                                item={props.itemTitle ? item[props.itemTitle] : item}\n                                hover>\n                                {!props.multiple ? <CSSTransition\n                                    in={subMenu}\n                                    timeout={300}\n                                    classNames=\"rui-select__submenu\"\n                                    unmountOnExit>\n                                    <div className={subMenuClass()}>\n                                        <List size={props.size ? props.size : ''}>\n                                            {resolveItemChildren().map((subItem, iterator) => \n                                                <ListItem\n                                                    onClick={() => {\n                                                        props.onChange(subItem)\n                                                        setMenu(false)\n                                                        setSubMenu(false)\n                                                        setActiveIndex(0)\n                                                    }}\n                                                    isActiveItem={subItem === props.value}\n                                                    key={iterator}\n                                                    item={subItem}\n                                                    hover/>\n                                            )}\n                                        </List>\n                                    </div>\n                                </CSSTransition> : ''}\n                            </ListItem>\n                        )}\n                    </List>\n                </div>}\n            trigger={\n                !props.multiple ? \n                <InputField\n                    label={props.label ? props.label : ''}\n                    color={props.color ? props.color : 'primary'}\n                    suffix={<Icon\n                        className=\"cursor-pointer\" \n                        name={menu ? 'chevron-up' : 'chevron-down'} \n                        onClick={() => setMenu(true)}/>}\n                    value={props.value}\n                    onKeyUp={handleKeyUp}\n                    whiteBackground={props.whiteBackground ? props.whiteBackground : false}\n                    size={props.size ? props.size : ''}\n                    borderType={props.borderType ? props.borderType : ''}\n                    prefix={props.prefix ? props.prefix : ''}\n                    clearable={props.clearable ? props.clearable : false}\n                    onClear={props.onClear ? props.onClear() : {}}\n                    onFocus={() => setMenu(true)}\n                    onBlur={e => props.value && !props.childrenKey ? handleCloseOnBlur(e) : {}}\n                    className=\"full-width\"\n                    width={props.width ? props.width : ''}\n                    placeholder={props.placeholder}/> : \n                    <div style={{ width: props.width ? props.width : 100 }} \n                        className=\"rui-select__multiple\">\n                        {props.label ? \n                            <label\n                                className={focus ? 'text-info' : ''} \n                                onClick={handleLabelClick}>{props.label}</label> : ''}\n                        <div tabIndex={-1}\n                            ref={inputRef}\n                            onFocus={handleFocus}\n                            onBlur={handleBlur}\n                            style={{ backgroundColor: props.whiteBackground ? '#fff' : '' }} \n                            className={selectMultipleItemClass()}>\n                            {props.prefix ? <span className=\"rui-input-prefix\">{props.prefix}</span> : ''}\n                            {selected.length > 0 ? \n                                <div className=\"rui-select__multiple-item\">\n                                    {selected.map((item, index) => \n                                        <Tag \n                                            key={index} \n                                            small={props.size ? false : true}\n                                            value={item} \n                                            color={props.tagColor}\n                                            visible={isSelected(item)}\n                                            className=\"ma-1\"/>\n                                    )}\n                                </div> :\n                                (props.placeholder ? <div className=\"rui-select__multiple-placeholder\">{props.placeholder}</div> : '')\n                            }\n                            <span className=\"rui-input-suffix\"><Icon name={menu ? 'chevron-up' : 'chevron-down'}/></span>\n                        </div>\n                    </div>}/>\n    )\n}\n\nexport default Select;\n"],"file":"index.js"}